"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
exports.extractRetryReason = exports.extractRetryNum = void 0;
function extractRetryNum(req) {
    let retryNum;
    const retryNumHeaderValue = req.headers['x-slack-retry-num'];
    if (retryNumHeaderValue === undefined) {
        retryNum = undefined;
    }
    else if (typeof retryNumHeaderValue === 'string') {
        retryNum = parseInt(retryNumHeaderValue, 10);
    }
    else if (Array.isArray(retryNumHeaderValue) && retryNumHeaderValue.length > 0) {
        retryNum = parseInt(retryNumHeaderValue[0], 10);
    }
    return retryNum;
}
exports.extractRetryNum = extractRetryNum;
function extractRetryReason(req) {
    let retryReason;
    const retryReasonHeaderValue = req.headers['x-slack-retry-reason'];
    if (retryReasonHeaderValue === undefined) {
        retryReason = undefined;
    }
    else if (typeof retryReasonHeaderValue === 'string') {
        retryReason = retryReasonHeaderValue;
    }
    else if (Array.isArray(retryReasonHeaderValue) && retryReasonHeaderValue.length > 0) {
        // eslint-disable-next-line prefer-destructuring
        retryReason = retryReasonHeaderValue[0];
    }
    return retryReason;
}
exports.extractRetryReason = extractRetryReason;
//# sourceMappingURL=http-utils.js.map