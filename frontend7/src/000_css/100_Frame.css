/* (1) Lyaer 1 */
/** (1-1) Header **/
.header {
    position: fixed;
    height: var(--header-height);
    width: 100%;
    background: var(--company-color1);
    box-shadow: 2px 2px 2px var(--global-shadow-color);
    display: flex;
    z-index: 100;

    .sidebar-button-area {
        flex-grow: 0;
        height: 100%;
        width: 100%;
        display: flex;
    }
    .status-area {
        display: flex;
        justify-content: center;
        align-items: center;
        flex-grow: 1;
        height: 100%;
        width: 100%;
        font-size: 1.5rem;
    }
    .menu-item-area {
        flex-grow: 1;
        height: 100%;
        width: 100%;
        display: flex;
        justify-content: space-between;
        .group {
            display: flex;
            .spacer {
                margin-left: 1rem;
            }
        }
    }
}

/** (1-2) sidebar, main-area, right-sidebar **/
/*** (1-2-1) initialize ***/
.sidebar {
    position: fixed;
    top: var(--header-height);
    height: calc(100vh - var(--header-height));
    width: var(--sidebar-width);
    background: linear-gradient(10deg, var(--company-color1) 0, 5%, var(--company-color2) 5% 10%, var(--company-color3) 10% 80%, var(--company-color1) 80% 85%, var(--company-color2) 85% 100%);
    z-index: 51;
    display: flex;
    flex-direction: column;
    .sidebar-partition {
        position: static;
        display: flex;
        flex-direction: column;
        align-items: center;
        width: 100%;
        color: rgba(255, 255, 255, 1);
        background: rgba(0, 0, 0, 0);
        z-index: 52;
        overflow: hidden;

        .sidebar-header {
            position: static;
            width: 100%;
            height: var(--header-height);
            font-size: 1.3rem;
            background: rgba(10, 10, 10, 0.5);
            display: flex;
            justify-content: space-between;
            .title {
                padding-left: 1rem;
                user-select: none;
            }
            .caret {
                align-items: right;
            }
        }
        .sidebar-content {
            position: static;
            width: 100%;
            height: calc(100% - var(--header-height));
            background: rgba(200, 0, 0, 1);
            .sidebar-create-room {
                padding: 0;
                margin: 0;
                text-align: right;
                user-select: none;
                cursor: pointer;
                font-size: 1rem;
            }
            .sidebar-room-list {
                width: 100%;
                height: calc(100% - 6rem);
                overflow-y: scroll;
                overflow-x: hidden;
                &::-webkit-scrollbar {
                    width: 12px;
                    height: 10px;
                }
                &::-webkit-scrollbar-track {
                    background-color: var(--company-color3-alpha);
                    border-radius: 100px;
                }
                &::-webkit-scrollbar-thumb {
                    background: var(--company-color2);
                    border-radius: 100px;
                    width: 130px;
                }
                .sidebar-room-item {
                    width: 100%;
                    display: flex;
                    justify-content: space-between;
                    margin-top: 0.2rem;

                    .sidebar-room-name {
                        padding-left: 1rem;
                        max-width: calc(100% - 6rem);
                        overflow: hidden;
                        text-overflow: ellipsis;
                        white-space: nowrap;
                    }
                    .sidebar-room-join {
                        cursor: pointer;
                        max-width: 5rem;
                        font-size: 1rem;
                        padding-right: 1rem;
                    }
                }
            }
        }
    }

    .sidebar-accordion-meeting-checkbox,
    .sidebar-accordion-chat-checkbox {
        display: none;
        &:checked + .sidebar-partition {
            height: 100vh;
            transition: all var(--sidebar-transition-time) var(--sidebar-transition-animation);
        }
        &:not(checked) + .sidebar-partition {
            height: var(--header-height);
            transition: all var(--sidebar-transition-time) var(--sidebar-transition-animation);
        }
    }

    /* .sidebar-accordion-chat-checkbox {
        display: none;
        &:checked + .sidebar-partition {
            height: 100%;
        }
        &:not(checked) + .sidebar-partition {
            height: var(--header-height);
        }
    } */
    /* .sidebar-accordion-meeting-checkbox:checked + .sidebar-accordion-chat-checkbox:checked {
        & ~ .sidebar-partition-meeting,
        & ~ .sidebar-partition-chat {
            height: 50%;
            transition: all var(--sidebar-transition-time) var(--sidebar-transition-animation);
            .sidebar-content {
                height: calc(100% - 2rem);
                transition: all var(--sidebar-transition-time) var(--sidebar-transition-animation);
                .sidebar-room-list {
                    height: calc(100% - 1rem);
                }
            }
        }
    }
    .sidebar-accordion-meeting-checkbox:not(checked) + .sidebar-accordion-chat-checkbox:checked {
        & ~ .sidebar-partition-meeting {
            height: var(--header-height);
            .sidebar-content {
                height: 0%;
                transition: all var(--sidebar-transition-time) var(--sidebar-transition-animation);
            }
        }
        & ~ .sidebar-partition-chat {
            height: calc(100vh - var(--header-height));
            transition: all var(--sidebar-transition-time) var(--sidebar-transition-animation);
            .sidebar-content {
                height: calc(100% - var(--header-height));
                transition: all var(--sidebar-transition-time) var(--sidebar-transition-animation);
            }
        }
    }
    .sidebar-accordion-meeting-checkbox:checked + .sidebar-accordion-chat-checkbox:not(checked) {
        & ~ .sidebar-partition-meeting {
            height: calc(100vh - var(--header-height));
            transition: all var(--sidebar-transition-time) var(--sidebar-transition-animation);
            .sidebar-content {
                height: calc(100% - calc(var(--header-height) + var(--header-height)));
                transition: all var(--sidebar-transition-time) var(--sidebar-transition-animation);
            }
        }
        & ~ .sidebar-partition-chat {
            height: var(--header-height);
            transition: all var(--sidebar-transition-time) var(--sidebar-transition-animation);
            .sidebar-content {
                height: 100%;
            }
        }
    }

    .sidebar-accordion-meeting-checkbox:not(checked) + .sidebar-accordion-chat-checkbox:not(checked) {
        & ~ .sidebar-partition-meeting {
            height: var(--header-height);
            transition: all var(--sidebar-transition-time) var(--sidebar-transition-animation);
            .sidebar-content {
                height: 100%;
            }
        }
        & ~ .sidebar-partition-chat {
            height: var(--header-height);
            transition: all var(--sidebar-transition-time) var(--sidebar-transition-animation);
            .sidebar-content {
                height: 100%;
            }
        }
    } */
}

/*** (X) Sidebar  ***/
/* .open-sidebar-checkbox:checked + .open-right-sidebar-checkbox:checked {
    ~ .main-area {
        margin-right: 0rem;
        left: var(--sidebar-width);
        right: var(--right-sidebar-width);
        width: calc(calc(100vw - var(--sidebar-width)) - var(--right-sidebar-width));
        transition: all var(--sidebar-transition-time) var(--sidebar-transition-animation);
    }
}
.open-sidebar-checkbox:checked + .open-right-sidebar-checkbox:not(checked) {
    ~ .main-area {
        margin-right: 0rem;
        left: var(--sidebar-width);
        right: 0rem;
        width: calc(100vw - var(--sidebar-width));
        transition: all var(--sidebar-transition-time) var(--sidebar-transition-animation);
    }
}
.open-sidebar-checkbox:not(checked) + .open-right-sidebar-checkbox:checked {
    ~ .main-area {
        margin-right: 0rem;
        left: 0rem;
        right: var(--right-sidebar-width);
        width: calc(100vw - var(--right-sidebar-width));
        transition: all var(--sidebar-transition-time) var(--sidebar-transition-animation);
    }
}
.open-sidebar-checkbox:not(checked) + .open-right-sidebar-checkbox:not(checked) {
    ~ .main-area {
        margin-right: 0rem;
        left: 0rem;
        right: 0rem;
        width: 100vw;
        transition: all var(--sidebar-transition-time) var(--sidebar-transition-animation);
    }
} */

.sidebar:after {
    content: "";
    position: absolute;
    height: calc(100vh - var(--header-height));
    width: var(--sidebar-width);
    background: var(--company-color1-alpha);
}
.sidebar:before {
    content: "";
    position: absolute;
    height: calc(100vh - var(--header-height));
    width: var(--sidebar-width);
    background: var(--company-color2-alpha);
    clip-path: ellipse(98% 71% at 20% 30%);
}

.main-area {
    position: fixed;
    top: var(--header-height);
    height: calc(100vh - var(--header-height));
    widht: 100vw;
    z-index: 50;
}

.right-sidebar {
    position: fixed;
    top: var(--header-height);
    height: calc(100vh - var(--header-height));
    width: var(--right-sidebar-width);
    background: var(--company-color3);
    z-index: 50;
}

.right-sidebar:before {
    content: "";
    position: absolute;
    height: calc(100vh - var(--header-height));
    width: var(--right-sidebar-width);
    background: var(--company-color2-alpha);
    /* clip-path: ellipse(98% 30% at 91% 90%); */
}
.right-sidebar:after {
    content: "";
    position: absolute;
    height: calc(100vh - var(--header-height));
    width: var(--right-sidebar-width);
    background: var(--company-color1-alpha);
    clip-path: ellipse(158% 41% at 60% 30%);
}

/*** (1-2-2) action ***/
/*** (A) sidebar ***/
.open-sidebar-checkbox {
    display: none;
    &:checked ~ .sidebar {
        left: 0;
        transition: all var(--sidebar-transition-time) var(--sidebar-transition-animation);
    }
    & ~ .sidebar {
        left: calc(-1 * var(--sidebar-width));
        transition: all var(--sidebar-transition-time) var(--sidebar-transition-animation);
    }
}

/*** (B) right-sidebar ***/
.open-right-sidebar-checkbox {
    display: none;
    &:checked ~ .right-sidebar {
        right: 0;
        transition: all var(--sidebar-transition-time) var(--sidebar-transition-animation);
    }
    & ~ .right-sidebar {
        right: calc(-1 * var(--right-sidebar-width));
        transition: all var(--sidebar-transition-time) var(--sidebar-transition-animation);
    }
}

/*** (C) main-area ***/
.open-sidebar-checkbox:checked + .open-right-sidebar-checkbox:checked {
    ~ .main-area {
        margin-right: 0rem;
        left: var(--sidebar-width);
        right: var(--right-sidebar-width);
        width: calc(calc(100vw - var(--sidebar-width)) - var(--right-sidebar-width));
        transition: all var(--sidebar-transition-time) var(--sidebar-transition-animation);
    }
}
.open-sidebar-checkbox:checked + .open-right-sidebar-checkbox:not(checked) {
    ~ .main-area {
        margin-right: 0rem;
        left: var(--sidebar-width);
        right: 0rem;
        width: calc(100vw - var(--sidebar-width));
        transition: all var(--sidebar-transition-time) var(--sidebar-transition-animation);
    }
}
.open-sidebar-checkbox:not(checked) + .open-right-sidebar-checkbox:checked {
    ~ .main-area {
        margin-right: 0rem;
        left: 0rem;
        right: var(--right-sidebar-width);
        width: calc(100vw - var(--right-sidebar-width));
        transition: all var(--sidebar-transition-time) var(--sidebar-transition-animation);
    }
}
.open-sidebar-checkbox:not(checked) + .open-right-sidebar-checkbox:not(checked) {
    ~ .main-area {
        margin-right: 0rem;
        left: 0rem;
        right: 0rem;
        width: 100vw;
        transition: all var(--sidebar-transition-time) var(--sidebar-transition-animation);
    }
}

/* (2) Lyaer 2 (In main-area)*/
/* In MainArea, focused video area vs bottom-bar*/
/** (2-1) main-video-area, bottom-nav **/
/*** (2-1-1) initialize***/
.main-video-area {
    overflow: hidden;
    background: #000000;
    width: 100%;
    height: 100%;
}
.bottom-nav {
    overflow: hidden;
    position: absolute;
    width: 100%;

    height: var(--bottom-nav-height);
    /* width: calc(calc(100vw - 15rem) - 15rem); */
    /* display: grid; */
    background: linear-gradient(var(--company-color1-alpha) 0, 15%, var(--company-color2) 5% 10%, var(--company-color2-alpha) 10% 80%, var(--company-color1) 80% 85%, var(--company-color2) 85% 100%);
}

/*** (2-1-2) action***/
/*** (A) bottom nav ***/
.open-bottom-nav-checkbox {
    display: none;
    &:checked ~ .bottom-nav {
        bottom: 0;
        transition: all var(--bottom-nav-transition-time) var(--bottom-nav-transition-animation);
    }
    & ~ .bottom-nav {
        bottom: calc(-1 * var(--bottom-nav-height));
        transition: all var(--bottom-nav-transition-time) var(--bottom-nav-transition-animation);
    }
}

/*** (B) main-video-area ***/
.open-bottom-nav-checkbox {
    display: none;
    &:checked ~ .main-video-area {
        height: calc(100% - var(--bottom-nav-height));
        transition: all var(--bottom-nav-transition-time) var(--bottom-nav-transition-animation);
    }
    & ~ .main-video-area {
        height: 100%;
        transition: all var(--bottom-nav-transition-time) var(--bottom-nav-transition-animation);
    }
}

.rotate-button-container {
    height: var(--header-height);
    width: var(--header-height);
    position: relative;
    .rotate-button {
        display: none;
        & ~ .rotate-lable {
            padding: 2px;
            position: absolute;
            transition: all 0.3s;
            cursor: pointer;
            height: var(--header-height);
            width: var(--header-height);
            .spinner,
            .colored {
                width: 100%;
                height: 100%;
                float: left;
                transition: all 0.5s;
                .spin-on {
                    width: 100%;
                    height: 100%;
                    display: none;
                }
                .spin-off {
                    width: 100%;
                    height: 100%;
                    display: blcok;
                }
            }
            .colored {
                background: rgba(200, 200, 200, 0.4);
                transition: all 0.5s;
                .spin-on {
                    color: rgba(240, 240, 240, 0.8);
                    display: none;
                }
                .spin-off {
                    color: rgba(240, 240, 240, 0.8);
                    display: block;
                }
            }
        }
        &:checked ~ .rotate-lable {
            .spinner {
                width: 100%;
                height: 100%;
                transform: rotate(-180deg);
                transition: all 0.5s;
                box-sizing: border-box;
                .spin-on {
                    display: block;
                }
                .spin-off {
                    display: none;
                }
            }
            .colored {
                background: rgba(20, 80, 20, 0.8);
                transition: all 0.5s;
                .spin-on {
                    color: #00ff00;
                    display: block;
                }
                .spin-off {
                    color: #00ff00;
                    display: none;
                }
            }
        }
    }
}
